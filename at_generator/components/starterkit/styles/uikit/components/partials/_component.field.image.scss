/**
 * Field Image
 ========================================================================== */

// AT uses <figure> as the image field wrapper and <figcaption> for image captions.
.field-type-image {

  figure {
    margin: 0;
  }

  figcaption {
    @include adjust-font-size-to($medium/1.3, .75);
    @include output-rhythm(padding, $xx-small 0);
  }

  /**
   * Image Alignment Theme Settings
   * - settings are applied using the Image extension in theme settings, where you can
   *   set image alignment and captions per node type and view mode.
   */
  &.align-none figure,
  &.align-left figure {
    @include output-rhythm(margin, 0 $medium $medium 0); // LTR

    figcaption {
      text-align: left; // LTR
    }
  }

  &.align-center figure {
    margin-left: auto;
    margin-right: auto;
    @include output-rhythm(margin-bottom, $medium);

    figcaption {
      text-align: center;
    }
  }

  &.align-right figure {
    @include output-rhythm(margin, 5px 0 $medium $medium); // LTR

    figcaption {
      text-align: left; // LTR
    }
  }

  // If there is not image style set Firefox and other browsers will not respect max-width 100% inside a float.
  // This can happen if the user does not set a style, so we are protecting the site from breaking.
  &.float-none {
    float: none !important;

    figure {
      margin-right: 0 !important;
      margin-left: 0 !important;
    }
  }

  // RTL
  @at-root [dir="rtl"] .field-type--image {
    &.align-none figure,
    &.align-left figure {
      @include output-rhythm(margin, 5px 0 $medium $medium);

      figcaption {
        text-align: right;
      }
    }

    &.align-right figure {
      @include output-rhythm(margin, 5px $medium $medium 0);

      figcaption {
        text-align: right;
      }
    }
  }
}

