/**
 * Page
 *  - mainly for markup that is printed directly in page.html.twig and
 *    .region {}
 ========================================================================== */

// html and body
html,
body {
  background-color: $page-background-color; // this matches the navbar for offcanvas menus.
}


// Root page wrapper, we set relative to make it easier to use absolute positioning
// and ensure items do not go under the toolbar or other items in the page-top region.
// If you are using offcanvas menu, it's the page-root that pushes over, not body.
.page-root {
  background-color: $page-root-background;
}


// Regions
//  - .regions is the main wrapper selector for all regions within a page-row.
.regions {
  background-color: $regions-background;
}


//  Page Rows - these match the Site Builder layout.
//  You can find your layouts page row and region classes by viewing the theme
//  settings and looking under Layouts > Options > Layout Selectors.
//
//  Do not add layout to .regions directly, instead if you want to modify the layout
//  you should hack the actual layout SASS/CSS, see your themes /layouts/ directory.

// Messages
.page-row__messages {}


// Messages
.page-row__leaderboard {}


// Header
.page-row__header {
  @include page-row-colors($page-row-header-background-color, $page-row-header-color, $page-row-backgrounds-full-width);
}


// Navbar
.page-row__navbar {
  @include page-row-colors($page-row-navbar-background-color, $page-row-navbar-color, $page-row-backgrounds-full-width);
  color: $background-color;

  a,
  .menu a {
    color: inherit;
  }
}


// Features
.page-row__features {
  @include page-row-colors($page-row-features-background-color, $page-row-features-color, $page-row-backgrounds-full-width);
}


// Main
.page-row__main {}


// Tertiary
.page-row__tertiary {
  @include page-row-colors($page-row-tertiary-background-color, $page-row-tertiary-color , $page-row-backgrounds-full-width);
}

// Footer
.page-row__footer {
  @include page-row-colors($page-row-footer-background-color, $page-row-footer-color, $page-row-backgrounds-full-width);
  color: $background-color;

  a,
  .menu a {
    color: inherit;
  }
}

// Theme attribution message. This is a toggle setting in the advanced theme
// settings, you can turn it on/off using the Markup overrides extension.
.attribution {
  background-color: $page-row-navbar-background-color;
}


/**
 * Type
 *  - styles most typographic related html elements.
 *  - adds pre-styled selectors for lists.
 *  - also includes misc other elements such as hr.
 ========================================================================== */

body {
  color: $text-color;
}


// Debug
body > pre,
.xdebug-var-dump {
  color: $background-color;
}

.page-root {
  .xdebug-var-dump {
    color: $text-color;
  }
}


// Links.
a {
  color: $link-color;

  &:link,
  &:visited {
    color: $link-color; // or use $link-visited-color
  }

  &:active,
  &.active {
    color: $link-active-color;
  }

  &:hover,
  &:focus {
    color: $link-hover-color;
  }
}


// Blockquotes, Bootstrap style.
blockquote {
  border-#{$flow-from}: 5px solid $border-color; // LTR

  p {
    &:first-child {
      &:before {
        color: $border-color;
      }
    }
  }

  small {
    color: lighten($text-color, $lighten-more);
  }

}


// A better looking default horizontal rule
hr {
  border-top: $border-width $border-style $border-color;
}


/**
 * Remove text-shadow in selection highlight: h5bp.com/i
 * These selection rule sets have to be separate.
 * Customize the background color to match your design.
 */
::-moz-selection {
  background: $selection-color;
}

::selection {
  background: $selection-color;
}


/**
 * Branding styles
 *  - Drupal core branding block.
 ========================================================================== */

.block--system-branding-block {}

.site__branding-text {

  a {
    color: $background-color;
  }

}

.site__logo {}

.site__name {}

.site__slogan {}


/**
 * Blocks
 ========================================================================== */

.block {}

.block__title {}


/**
 * Menus
 *  - style Drupal core block menus.
 *  - for the drop menu and other responsive menus see the mixins and the
 *    _navbar.scss partial.
 ========================================================================== */

.menu {
  li {
    &.active-trail > a {
      //color: $menu-active-color;
      //background-color: $menu-background-active-color;
    }

    // If menu arrows are true, add font-awesome and icons for
    // expanded and collapsed selectors.
    @if $menu-arrows == true {
      &.collapsed > a:after,
      &.expanded > a:after {
        color: $text-color;
      }
    }
  }

  a {
    color: $menu-color;
    //background-color: $menu-background-color;

    &:hover,
    &:focus {
      color: $menu-hover-color;
      //background-color: $menu-background-hover-color;
    }

    &.active {
      color: $menu-active-color;
      //background-color: $menu-background-active-color;
    }
  }

  // Nested menus.
  .menu {
    a {
      &:hover,
      &:focus {}
      &.active-trail {}
    }
  }
}


/**
 * Responsive menu styles. Import into breakpoints.
 *  - slidedown
 *  - off canvas
 *  - tiles
 *
 * Set the breakpoint and import the menu style into that breakpoint, then
 * visit your theme settings and configure options.
 *
 * Responsive styles are a combination of three things:
 *  1. Sass/CSS defined here (with breakpoints etc).
 *  2. jQuery: responsive-menus.js in AT Core libraries which adds/toggles classes.
 *  3. Theme settings as set in your themes Advanced extention settings.
 ========================================================================== */

// Aggressively force the menu to inherit the page-row/regions background,
// this saves us a lot of messing about.
.responsive-menu-region,
.responsive-menu-region .block,
.responsive-menu-region .block * {
  background-color: inherit;
  color: inherit;
}


// Global styles for the navbar region.
.responsive-menu-region {

  .menu {
    li {
      &.active-trail > a {
        color: $resp-menu-active-color;
        background: $resp-menu-active-background-color;
      }
    }

    a {
      color: $resp-menu-color;
      background: $resp-menu-background-color;

      &:hover,
      &:focus {
        color: $resp-menu-hover-color;
        background-color: $resp-menu-hover-background-color;
      }

      &.active {
        color: $resp-menu-active-color;
        background-color: $resp-menu-active-background-color;

        &[href="/"] {
          background-color: transparent; // Match Drupal base path for frontpage/home links

          &:hover,
          &:focus {
            color: $resp-menu-hover-color;
            background-color: $resp-menu-hover-background-color;
          }
        }
      }
    }
  }
}


// Customize responsive menus for this theme.
.menu-style-tiles {
  .responsive-menu-region {
    .menu-level-1 {
      > li {
        background-color: $resp-menu-active-background-color;
      }
    }
  }
}


/**
 * Tables
 *  - inlcudes all table elements and table drag selectors.
 ========================================================================== */


table {
  border: $border-width $border-style $border-color;
}


// tr, takes extensive styles if enabled in variables.scss.
tr {
  border: $border-width $border-style $border-color;

  // Row striping (zebra).
  @if $table-row-striping == true {
    &.odd {
      background: $table-row-odd-color;
    }

    &.info,
    &.even,
    &:nth-child(2n+2)  {
      background: $table-row-even-color;
    }
  }

  // Hover color.
  @if $tr-hover == true {
    &:hover {
      background: $tr-hover-color;
    }
  }

  // Column striping, applies to the active column in sortable tables.
  @if $table-col-striping == true {
    &.odd td.active {
      background: $table-col-odd-color;
    }
    &.even td.active {
      background: $table-col-even-color;
    }
  }
}


// Align captions and cell content.
caption,
th,
td {}


// thead.
thead {
  tr {
    color: $thead-text-color;
    background-color: $thead-background-color;
  }

  .active img {
    display: inline;
  }
}


// tr, td and th border properties.
tr,
td,
th {
  border-color: $border-color;
}


/**
 * Buttons
 *  - applies to elements with class "button", includes styles for:
 *  - input buttons
 *  - anchor links styled as buttons
 *  - drop buttons
 *  - action link buttons
 ========================================================================== */

.button {
  color: $button-color;
  background: $button-background-color;
  border: $button-border-width $button-border-style $button-border-color;
  @include box-shadow(rgba(255, 255, 255, 0.5) 0 1px 0 inset);

  &:hover,
  &:focus {
    color: $button-hover-color;
    background-color: $button-background-hover-color;
  }

  &[disabled] {
    &:hover {
      color: darken($button-color, $darken); // No variable because it's just disabled, this works fine.
    }
  }
}

// Primary button
.button--primary {
  @include button-variant($hightlight-text-color, $hightlight-background-color, $hightlight-border-color);
}

// Danger button, e.g. delete buttons often have this class.
.button--danger {
  @include button-variant($error-text-color, $error-background-color, $error-border-color);
}


/* Drop buttons */
.js .dropbutton-widget {
  background-color: $background-color;
  border: $button-border-width $button-border-style $button-border-color;
}

.dropbutton {

  .secondary-action {
    border-top: $button-border-width $button-border-style $button-border-color;

    .button {

      background: $background-color;

      &:hover,
      &:focus {
        background-color: $button-background-hover-color;
      }
    }
  }
}

// Dropbutton Multiple
.dropbutton-multiple {
  .dropbutton {
    border-right: $button-border-width $button-border-style $button-border-color;

    .publish {
      .button {
        @include button-variant($hightlight-text-color, $hightlight-background-color, $hightlight-border-color);
      }
    }

    // RTL
    @at-root [dir="rtl"] {
      .dropbutton-multiple .dropbutton {
        border-left: $button-border-width $button-border-style $button-border-color;;
      }
    }
  }

}


/**
 * Styles for link buttons and action links. TODO.
 */
/*
#block-atblocksmenuactions {
  @include output-rhythm(margin, $medium 0);

  li {
    @include no-bullets;
  }
}

.action-links {
  list-style: none;
  padding: 0;
  @include output-rhythm(margin, $medium 0);

  li {
    display: inline-block;
    margin: 0 $small;

    &:first-child {
      margin-left: 0; // LTR
    }
  }

  // RTL
  @at-root [dir="rtl"] .action-links li:first-child {
    margin-left: $small;
    margin-right: 0;
  }
}
*/


// Action button
.button-action {
  @include button-variant($hightlight-text-color, $hightlight-background-color, $hightlight-border-color);
}


/**
 * Forms
 *  - This probably seems like a lot - remember AT unsets system.theme.css and
 *    gives you complete control over all form elements.
 *
 * Note:
 *  - input type submit is treated as a 'button', see _buttons.scss
 *  - for drop buttons see _buttons.scss
 ========================================================================== */

// Select, Textarea and most input types
select,
textarea,
input {

  &:not([type]),
  &[type="text"],
  &[type="password"],
  &[type="email"],
  &[type="url"],
  &[type="date"],
  &[type="month"],
  &[type="time"],
  &[type="datetime"],
  &[type="datetime-local"],
  &[type="week"],
  &[type="number"],
  &[type="search"],
  &[type="tel"],
  &[type="color"] {
    color: $form-text-color;
    border: $form-border-width $form-border-style $form-border-color;
    background-color: $form-background-color;

    @include border-radius($form-border-radius);
    @include box-shadow(rgba(0,0,0,0.1) 0 1px 2px inset);

    &:focus {
      border-color: $form-border-color;
      color: $form-text-focus-color;
    }

    &:hover,
    &:focus {
      background-color: $form-background-focus-color;
    }

    &[disabled] {
      opacity: 0.7;

      &:hover,
      &:focus {
        color: $form-text-focus-color;
      }
    }
  }
}


// Readonly
input,
select,
textarea {
  &[readonly] {
    background: $text-background-color;
    color: $text-color;
  }
}


// Filters and tips
.filter-wrapper {
  border-color: $form-border-color;
  border-style: $form-border-style;
  border-width: $form-border-width;
  border-top: 0;
}


// Tips
.tips {
  color: $form-help-color;
}


// Form item descriptions
.description {
  color: $form-help-color;
}


.marker {
  color: $form-marker-color;
}


.form-required:after {
  color: $form-marker-color;
}


/**
 * Collapsible details.
 *
 * @see collapse.js
 * @thanks http://nicolasgallagher.com/css-background-image-hacks/
 */
details {
  border: $form-border-width $form-border-style $form-border-color;
}














